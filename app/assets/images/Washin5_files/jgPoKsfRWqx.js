if (self.CavalryLogger) { CavalryLogger.start_js(["w3AMg"]); }

__d('MessengerCommerceAuthTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MessengerCommerceAuthLoggerConfig',this.$MessengerCommerceAuthTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MessengerCommerceAuthLoggerConfig',this.$MessengerCommerceAuthTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MessengerCommerceAuthTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MessengerCommerceAuthTypedLogger1=babelHelpers['extends']({},this.$MessengerCommerceAuthTypedLogger1,j);return this;};h.prototype.setAppFbid=function(j){this.$MessengerCommerceAuthTypedLogger1.app_fbid=j;return this;};h.prototype.setDebugData=function(j){this.$MessengerCommerceAuthTypedLogger1.debug_data=j;return this;};h.prototype.setEventName=function(j){this.$MessengerCommerceAuthTypedLogger1.event_name=j;return this;};h.prototype.setPageFbid=function(j){this.$MessengerCommerceAuthTypedLogger1.page_fbid=j;return this;};h.prototype.setUserFbid=function(j){this.$MessengerCommerceAuthTypedLogger1.user_fbid=j;return this;};h.prototype.setUserPsid=function(j){this.$MessengerCommerceAuthTypedLogger1.user_psid=j;return this;};h.prototype.setWeight=function(j){this.$MessengerCommerceAuthTypedLogger1.weight=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$MessengerCommerceAuthTypedLogger1=babelHelpers['extends']({},this.$MessengerCommerceAuthTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={app_fbid:true,debug_data:true,event_name:true,page_fbid:true,user_fbid:true,user_psid:true,weight:true};f.exports=h;}),null);
__d('MessengerCommerceTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MessengerCommerceLoggerConfig',this.$MessengerCommerceTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MessengerCommerceLoggerConfig',this.$MessengerCommerceTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MessengerCommerceTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MessengerCommerceTypedLogger1=babelHelpers['extends']({},this.$MessengerCommerceTypedLogger1,j);return this;};h.prototype.setAttachmentIds=function(j){this.$MessengerCommerceTypedLogger1.attachment_ids=j;return this;};h.prototype.setBatchSize=function(j){this.$MessengerCommerceTypedLogger1.batch_size=j;return this;};h.prototype.setBrandAppID=function(j){this.$MessengerCommerceTypedLogger1.brand_app_id=j;return this;};h.prototype.setCallSite=function(j){this.$MessengerCommerceTypedLogger1.call_site=j;return this;};h.prototype.setCellNum=function(j){this.$MessengerCommerceTypedLogger1.cell_num=j;return this;};h.prototype.setCtaExtraData=function(j){this.$MessengerCommerceTypedLogger1.cta_extra_data=j;return this;};h.prototype.setCtaExtraStats=function(j){this.$MessengerCommerceTypedLogger1.cta_extra_stats=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setCtaID=function(j){this.$MessengerCommerceTypedLogger1.cta_id=j;return this;};h.prototype.setCtaKind=function(j){this.$MessengerCommerceTypedLogger1.cta_kind=j;return this;};h.prototype.setCtaKindStats=function(j){this.$MessengerCommerceTypedLogger1.cta_kind_stats=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setCtaTypeStats=function(j){this.$MessengerCommerceTypedLogger1.cta_type_stats=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setDebugData=function(j){this.$MessengerCommerceTypedLogger1.debug_data=j;return this;};h.prototype.setEntityID=function(j){this.$MessengerCommerceTypedLogger1.entity_id=j;return this;};h.prototype.setErrorType=function(j){this.$MessengerCommerceTypedLogger1.error_type=j;return this;};h.prototype.setEvent=function(j){this.$MessengerCommerceTypedLogger1.event=j;return this;};h.prototype.setException=function(j){this.$MessengerCommerceTypedLogger1.exception=j;return this;};h.prototype.setFirstSeqID=function(j){this.$MessengerCommerceTypedLogger1.first_seq_id=j;return this;};h.prototype.setHasImplicitSubscriptionPerm=function(j){this.$MessengerCommerceTypedLogger1.has_implicit_subscription_perm=j;return this;};h.prototype.setHasSubscriptionPerm=function(j){this.$MessengerCommerceTypedLogger1.has_subscription_perm=j;return this;};h.prototype.setIsProd=function(j){this.$MessengerCommerceTypedLogger1.is_prod=j;return this;};h.prototype.setIsTestPayment=function(j){this.$MessengerCommerceTypedLogger1.is_test_payment=j;return this;};h.prototype.setLastSeqID=function(j){this.$MessengerCommerceTypedLogger1.last_seq_id=j;return this;};h.prototype.setLatency=function(j){this.$MessengerCommerceTypedLogger1.latency=j;return this;};h.prototype.setMessageBody=function(j){this.$MessengerCommerceTypedLogger1.message_body=j;return this;};h.prototype.setMessageClassification=function(j){this.$MessengerCommerceTypedLogger1.message_classification=j;return this;};h.prototype.setMessageFolder=function(j){this.$MessengerCommerceTypedLogger1.message_folder=j;return this;};h.prototype.setMessageID=function(j){this.$MessengerCommerceTypedLogger1.message_id=j;return this;};h.prototype.setMessageType=function(j){this.$MessengerCommerceTypedLogger1.message_type=j;return this;};h.prototype.setNmorOrderType=function(j){this.$MessengerCommerceTypedLogger1.nmor_order_type=j;return this;};h.prototype.setNumQuickReplies=function(j){this.$MessengerCommerceTypedLogger1.num_quick_replies=j;return this;};h.prototype.setPageID=function(j){this.$MessengerCommerceTypedLogger1.page_id=j;return this;};h.prototype.setPixelID=function(j){this.$MessengerCommerceTypedLogger1.pixel_id=j;return this;};h.prototype.setPrometheusLag=function(j){this.$MessengerCommerceTypedLogger1.prometheus_lag=j;return this;};h.prototype.setQuickReplyContentTypeStats=function(j){this.$MessengerCommerceTypedLogger1.quick_reply_content_type_stats=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setRating=function(j){this.$MessengerCommerceTypedLogger1.rating=j;return this;};h.prototype.setRecipientID=function(j){this.$MessengerCommerceTypedLogger1.recipient_id=j;return this;};h.prototype.setSenderID=function(j){this.$MessengerCommerceTypedLogger1.sender_id=j;return this;};h.prototype.setSubscriptionID=function(j){this.$MessengerCommerceTypedLogger1.subscription_id=j;return this;};h.prototype.setSyncToken=function(j){this.$MessengerCommerceTypedLogger1.sync_token=j;return this;};h.prototype.setThreadID=function(j){this.$MessengerCommerceTypedLogger1.thread_id=j;return this;};h.prototype.setTotalRatingSum=function(j){this.$MessengerCommerceTypedLogger1.total_rating_sum=j;return this;};h.prototype.setTotalReviewCount=function(j){this.$MessengerCommerceTypedLogger1.total_review_count=j;return this;};h.prototype.setUserFbid=function(j){this.$MessengerCommerceTypedLogger1.user_fbid=j;return this;};h.prototype.setUserPhoneNumber=function(j){this.$MessengerCommerceTypedLogger1.user_phone_number=j;return this;};h.prototype.setUserPsid=function(j){this.$MessengerCommerceTypedLogger1.user_psid=j;return this;};h.prototype.setVC=function(j){this.$MessengerCommerceTypedLogger1.vc=j;return this;};h.prototype.setWaterfallLogID=function(j){this.$MessengerCommerceTypedLogger1.waterfall_log_id=j;return this;};h.prototype.setWebhookURL=function(j){this.$MessengerCommerceTypedLogger1.webhook_url=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$MessengerCommerceTypedLogger1=babelHelpers['extends']({},this.$MessengerCommerceTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={attachment_ids:true,batch_size:true,brand_app_id:true,call_site:true,cell_num:true,cta_extra_data:true,cta_extra_stats:true,cta_id:true,cta_kind:true,cta_kind_stats:true,cta_type_stats:true,debug_data:true,entity_id:true,error_type:true,event:true,exception:true,first_seq_id:true,has_implicit_subscription_perm:true,has_subscription_perm:true,is_prod:true,is_test_payment:true,last_seq_id:true,latency:true,message_body:true,message_classification:true,message_folder:true,message_id:true,message_type:true,nmor_order_type:true,num_quick_replies:true,page_id:true,pixel_id:true,prometheus_lag:true,quick_reply_content_type_stats:true,rating:true,recipient_id:true,sender_id:true,subscription_id:true,sync_token:true,thread_id:true,total_rating_sum:true,total_review_count:true,user_fbid:true,user_phone_number:true,user_psid:true,vc:true,waterfall_log_id:true,webhook_url:true};f.exports=h;}),null);
__d('MNCommerceLogger',['BanzaiLogger','BanzaiODS','MessengerCommerceAuthTypedLogger','MNCommerceLoggerEvents','MessengerCommerceTypedLogger','getViewportDimensions'],(function a(b,c,d,e,f,g){'use strict';var h=c('BanzaiLogger').create({signal:true});function i(event){switch(event){case c('MNCommerceLoggerEvents').DEVX_UPSELL_LEARN_MORE_CLICKED:return 'devx.upsell.learn_more.clicked';default:return event;}}var j={logPluginLoaded:function k(l,m,n){var o=c('getViewportDimensions')();h.log('MessengerCommerceLoggerConfig',{brand_app_id:l,event:c('MNCommerceLoggerEvents').PLUGIN_CLIENT_RENDERED,debug_data:JSON.stringify({height:o.height,plugin:m,width:o.width}),recipient_id:n});},logMessageUsClicked:function k(l){h.log('MessengerCommerceLoggerConfig',{brand_app_id:l,event:c('MNCommerceLoggerEvents').PLUGIN_MESSAGE_US_CLICK});},logClick:function k(event,l,m){c('BanzaiODS').bumpEntityKey('messenger_commerce',i(event));h.log('MessengerCommerceLoggerConfig',{brand_app_id:l,user_fbid:m,event:event});},logAuthEvent:function k(l,m,n,event){h.log('MessengerCommerceLoggerConfig',{brand_app_id:l,page_id:m,user_fbid:n,event:event});c('BanzaiODS').bumpEntityKey('messenger_commerce','auth.'+event+'.'+m);c('BanzaiODS').bumpEntityKey('messenger_commerce','auth.'+event+'.all');},logPopupNotOpened:function k(l,m,n){new (c('MessengerCommerceTypedLogger'))().setBrandAppID(l).setSenderID(m).setCallSite(JSON.stringify(n)).setEvent('devx_page_token_popup_open_failed').log();}};f.exports=j;}),null);
__d('PluginMessengerMessageUs',['Event','MNCommerceLoggerEvents','MNCommerceLogger'],(function a(b,c,d,e,f,g){'use strict';var h={setupMessageUsLogging:function i(j,k,l,m){c('Event').listen(j,'click',function(){c('MNCommerceLogger').logAuthEvent(k,l,m,c('MNCommerceLoggerEvents').MESSAGE_US_CLICKED);});}};f.exports=h;}),null);
__d("XMNSendToMessengerContinueAsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/send_to_messenger\/",{next:{type:"String",required:true},page_id:{type:"String",required:true},app_id:{type:"String",required:true},ref:{type:"String"},switch_user:{type:"String"},is_inapp_browser:{type:"Bool",defaultValue:false}});}),null);
__d('PluginSendToMessenger',['Arbiter','CSS','DOMEvent','DOMEventListener','FormSubmit','MNCommerceLoggerEvents','MNCommerceLogger','Plugin','PluginMessage','PluginOptin','PluginResize','PopupWindow','UnverifiedXD','URI','XMNSendToMessengerContinueAsController'],(function a(b,c,d,e,f,g){'use strict';var h=13;function i(j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){this.$PluginSendToMessenger1=false;c('PluginResize').auto(y);if(!n||q&&!r)c('CSS').hide(m);var aa=function ga(ha,ia){return c('DOMEventListener').add(ha,'click',ia);},ba=function ga(ha){return c('DOMEventListener').add(ha,'keydown',function(ia){if(ia.keyCode===h)ha.click();});};if(n){var ca=new (c('URI'))(window.location.search).getQueryData();if(ca.reload==='reload'){this.$PluginSendToMessenger1=true;if(ca.id===s){c('CSS').show(k);c('CSS').hide(j);}}if(ca.act==='send'){c('CSS').show(k);c('CSS').hide(j);if(o)this.submit(y);}}var da=function(ga){c('MNCommerceLogger').logAuthEvent(v,u,t,c('MNCommerceLoggerEvents').SEND_TO_MESSENGER_CLICKED);c('UnverifiedXD').send({type:'sdk_event',event:'send_to_messenger',data:JSON.stringify({event:'clicked',ref:w})});if(q||!x&&!this.$PluginSendToMessenger1){new (c('DOMEvent'))(ga).kill();if(!p){new (c('PluginOptin'))('send_to_messenger').addLoginParams({logged_in:n,switch_user:q,page_id:u,app_id:v,ref:w,connected:false,is_inapp_browser:false,show_subtitle:true}).addReturnParams({act:'send'}).start();}else{var ha=c('XMNSendToMessengerContinueAsController').getURIBuilder().setString('next',z.toString()).setString('page_id',u).setString('app_id',v).setString('ref',w).setBool('is_inapp_browser',true).getURI();c('PopupWindow').open(ha.toString(),420,450);}}else{this.submit(y);c('CSS').show(k);c('CSS').hide(j);}}.bind(this),ea=function ga(ha){c('UnverifiedXD').send({type:'sdk_event',event:'send_to_messenger',data:JSON.stringify({event:'not_you',ref:w})});new (c('PluginOptin'))('send_to_messenger').addLoginParams({logged_in:false,switch_user:true,page_id:u,app_id:v,ref:w,connected:x,is_inapp_browser:p,show_subtitle:true}).addReturnParams({act:'send'}).start();c('PluginMessage').listen();};aa(j,da);aa(l,ea);ba(j);ba(l);var fa=function ga(ha,ia){if(ia.identifier===s){c('CSS').show(k);c('CSS').hide(j);}};c('Arbiter').subscribe(c('Plugin').CONNECT,fa);}i.prototype.submit=function(j){c('FormSubmit').send(j);};f.exports=i;}),null);